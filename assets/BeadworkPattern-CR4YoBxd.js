import{c as p,o as m,G as v,b as V,a as r,F,u as h,H as N,z as A,m as U,C as H,q as u,v as f,y as $,I as M}from"./index-B5G6K9od.js";const P=["cx","cy","r","stroke","fill","stroke-width"],X={__name:"BeadDot",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},r:{type:Number,default:6},stroke:{type:String,default:"#000"},fill:{type:String,default:"#fff"},strokeWidth:{type:Number,default:1.5},beadId:{type:String,default:""}},emits:["click"],setup(l){return(x,e)=>(m(),p("circle",{cx:l.x,cy:l.y,r:l.r,stroke:l.stroke,fill:l.fill,"stroke-width":l.strokeWidth,"vector-effect":"non-scaling-stroke",onClick:e[0]||(e[0]=b=>x.$emit("click"))},null,8,P))}},R=["width","height","viewBox"],q={key:0,opacity:"0.15"},I=["x1","x2","y1","y2"],L={key:1},T={__name:"BeadPattern",props:{rows:{type:Number,default:15},cols:{type:Number,default:38},beadR:{type:Number,default:5},gapX:{type:Number,default:16},gapY:{type:Number,default:14},stagger:{type:Boolean,default:!0},showFringe:{type:Boolean,default:!0},fringeBase:{type:Number,default:6},fringeAmp:{type:Number,default:4},fringePeriod:{type:Number,default:6},fringeMap:{type:Array,default:null},padding:{type:Number,default:20},showGridHelpers:{type:Boolean,default:!1},beadFillColor:{type:String,default:"#ffffff"},svgBackgroundColor:{type:String,default:"#ffffff"},coloredBeads:{type:Map,default:()=>new Map}},emits:["bead-click"],setup(l,{emit:x}){const e=l,b=x,k=s=>s==="#ffffff"||s==="#fff"||B(s)?"#000000":s,w=s=>s==="#ffffff"||s==="#fff"||B(s)?1.5:0,B=s=>{const i=s.replace("#",""),n=parseInt(i.substr(0,2),16),d=parseInt(i.substr(2,2),16),a=parseInt(i.substr(4,2),16);return(n+d+a)/3>200},c=v(()=>(e.cols-1)*e.gapX+(e.stagger?e.gapX/2:0)+e.padding*2),t=v(()=>{const s=(e.rows-1)*e.gapY,i=Y.value*e.gapY;return s+i+e.padding*2+e.beadR*2}),o=v(()=>{if(Array.isArray(e.fringeMap)&&e.fringeMap.length===e.cols)return e.fringeMap;const s=[];for(let i=0;i<e.cols;i++){const n=e.fringePeriod,d=(i%n+n)%n,a=Math.abs(d-(n-1)/2),g=e.fringeBase+Math.round(e.fringeAmp-a);s.push(Math.max(g,0))}return s}),Y=v(()=>o.value.reduce((s,i)=>Math.max(s,i),0)),S=v(()=>{const s=[];for(let i=0;i<e.rows;i++){const n=e.stagger&&i%2?e.gapX/2:0;for(let d=0;d<e.cols;d++){const a=e.padding+n+d*e.gapX,g=e.padding+i*e.gapY;s.push({x:a,y:g})}}return s}),G=v(()=>{const s=e.padding+(e.rows-1)*e.gapY,i=[];for(let n=0;n<e.cols;n++){const d=e.padding+(e.stagger&&(e.rows-1)%2?e.gapX/2:0)+n*e.gapX,a=o.value[n]||0;for(let g=1;g<=a;g++){const y=d,C=s+g*e.gapY;i.push({x:y,y:C})}}return i});return(s,i)=>(m(),p("svg",{width:c.value,height:t.value,viewBox:`0 0 ${c.value} ${t.value}`,xmlns:"http://www.w3.org/2000/svg",style:A(`display:block; background:${l.svgBackgroundColor}`)},[l.showGridHelpers?(m(),p("g",q,[(m(!0),p(F,null,h(l.rows,n=>(m(),p("line",{key:"h"+n,x1:l.padding,x2:c.value-l.padding,y1:l.padding+(n-1)*l.gapY,y2:l.padding+(n-1)*l.gapY,stroke:"#000","stroke-dasharray":"4 4","vector-effect":"non-scaling-stroke"},null,8,I))),128))])):V("",!0),r("g",null,[(m(!0),p(F,null,h(S.value,(n,d)=>{var a,g,y;return m(),N(X,{key:d,x:n.x,y:n.y,r:l.beadR,"bead-id":`top-${d}`,fill:((a=l.coloredBeads.get(`top-${d}`))==null?void 0:a.fill)||l.beadFillColor,stroke:k(((g=l.coloredBeads.get(`top-${d}`))==null?void 0:g.fill)||l.beadFillColor),"stroke-width":w(((y=l.coloredBeads.get(`top-${d}`))==null?void 0:y.fill)||l.beadFillColor),class:"cursor-pointer hover:opacity-80",onClick:C=>b("bead-click",`top-${d}`)},null,8,["x","y","r","bead-id","fill","stroke","stroke-width","onClick"])}),128))]),l.showFringe?(m(),p("g",L,[(m(!0),p(F,null,h(G.value,(n,d)=>{var a,g,y;return m(),N(X,{key:"f"+d,x:n.x,y:n.y,r:l.beadR,"bead-id":`fringe-${d}`,fill:((a=l.coloredBeads.get(`fringe-${d}`))==null?void 0:a.fill)||l.beadFillColor,stroke:k(((g=l.coloredBeads.get(`fringe-${d}`))==null?void 0:g.fill)||l.beadFillColor),"stroke-width":w(((y=l.coloredBeads.get(`fringe-${d}`))==null?void 0:y.fill)||l.beadFillColor),class:"cursor-pointer hover:opacity-80",onClick:C=>b("bead-click",`fringe-${d}`)},null,8,["x","y","r","bead-id","fill","stroke","stroke-width","onClick"])}),128))])):V("",!0)],12,R))}},W={class:"min-h-screen bg-white flex items-center justify-center p-6"},j={class:"w-full max-w-[1200px] border border-neutral-300 rounded-2xl p-4"},z={class:"bg-gray-50 rounded-lg p-4 mb-6 border border-gray-200"},D={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},E={class:"space-y-3"},O={class:"space-y-3"},J={class:"space-y-3"},K={class:"flex items-center space-x-2"},Q={key:0},Z={class:"space-y-3"},_={class:"flex items-center space-x-2"},ee={class:"flex items-center space-x-2"},te={class:"space-y-3"},re={class:"flex items-center space-x-2"},oe={class:"flex items-center space-x-2"},le=null,ne={__name:"BeadworkPattern",setup(l){const x={rows:15,cols:58,beadR:4.8,gapX:20,gapY:14,stagger:!0,showFringe:!0,fringeBase:2,fringeAmp:6,fringePeriod:11,padding:24,showGridHelpers:!1,beadFillColor:"#ffffff",svgBackgroundColor:"#ffffff"},e=U({...x}),b=U(new Map),k=()=>{Object.assign(e,x),b.clear()},w=c=>{b.has(c)?b.delete(c):b.set(c,{fill:e.beadFillColor})},B=()=>{b.clear()};return(c,t)=>(m(),p("div",W,[r("div",j,[t[37]||(t[37]=r("h1",{class:"text-xl font-semibold mb-4"},"الگوی مهره‌ها (SVG + Vue 3)",-1)),r("div",z,[t[36]||(t[36]=r("h2",{class:"text-lg font-medium mb-4 text-gray-800"},"تنظیمات الگو",-1)),r("div",D,[r("div",E,[t[19]||(t[19]=r("h3",{class:"font-medium text-gray-700"},"تنظیمات اصلی",-1)),r("div",null,[t[16]||(t[16]=r("label",{class:"block text-sm font-medium text-gray-600 mb-1"},"تعداد ردیف‌ها",-1)),u(r("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>e.rows=o),type:"number",min:"1",max:"50",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,e.rows,void 0,{number:!0}]])]),r("div",null,[t[17]||(t[17]=r("label",{class:"block text-sm font-medium text-gray-600 mb-1"},"تعداد ستون‌ها",-1)),u(r("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>e.cols=o),type:"number",min:"1",max:"100",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,e.cols,void 0,{number:!0}]])]),r("div",null,[t[18]||(t[18]=r("label",{class:"block text-sm font-medium text-gray-600 mb-1"},"شعاع مهره",-1)),u(r("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>e.beadR=o),type:"number",min:"1",max:"10",step:"0.1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,e.beadR,void 0,{number:!0}]])])]),r("div",O,[t[23]||(t[23]=r("h3",{class:"font-medium text-gray-700"},"فاصله‌ها",-1)),r("div",null,[t[20]||(t[20]=r("label",{class:"block text-sm font-medium text-gray-600 mb-1"},"فاصله افقی",-1)),u(r("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>e.gapX=o),type:"number",min:"5",max:"30",step:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,e.gapX,void 0,{number:!0}]])]),r("div",null,[t[21]||(t[21]=r("label",{class:"block text-sm font-medium text-gray-600 mb-1"},"فاصله عمودی",-1)),u(r("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>e.gapY=o),type:"number",min:"5",max:"30",step:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,e.gapY,void 0,{number:!0}]])]),r("div",null,[t[22]||(t[22]=r("label",{class:"block text-sm font-medium text-gray-600 mb-1"},"پدینگ",-1)),u(r("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>e.padding=o),type:"number",min:"10",max:"100",step:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,e.padding,void 0,{number:!0}]])])]),r("div",J,[t[28]||(t[28]=r("h3",{class:"font-medium text-gray-700"},"تنظیمات آویز",-1)),r("div",K,[u(r("input",{id:"showFringe","onUpdate:modelValue":t[6]||(t[6]=o=>e.showFringe=o),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[$,e.showFringe]]),t[24]||(t[24]=r("label",{for:"showFringe",class:"text-sm font-medium text-gray-600"},"نمایش آویز",-1))]),e.showFringe?(m(),p("div",Q,[r("div",null,[t[25]||(t[25]=r("label",{class:"block text-sm font-medium text-gray-600 mb-1"},"پایه آویز",-1)),u(r("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>e.fringeBase=o),type:"number",min:"1",max:"20",step:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,e.fringeBase,void 0,{number:!0}]])]),r("div",null,[t[26]||(t[26]=r("label",{class:"block text-sm font-medium text-gray-600 mb-1"},"دامنه آویز",-1)),u(r("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>e.fringeAmp=o),type:"number",min:"0",max:"20",step:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,e.fringeAmp,void 0,{number:!0}]])]),r("div",null,[t[27]||(t[27]=r("label",{class:"block text-sm font-medium text-gray-600 mb-1"},"دوره آویز",-1)),u(r("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>e.fringePeriod=o),type:"number",min:"1",max:"20",step:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,e.fringePeriod,void 0,{number:!0}]])])])):V("",!0)]),r("div",Z,[t[31]||(t[31]=r("h3",{class:"font-medium text-gray-700"},"سایر تنظیمات",-1)),r("div",_,[u(r("input",{id:"stagger","onUpdate:modelValue":t[10]||(t[10]=o=>e.stagger=o),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[$,e.stagger]]),t[29]||(t[29]=r("label",{for:"stagger",class:"text-sm font-medium text-gray-600"},"نمایش پلکانی",-1))]),r("div",ee,[u(r("input",{id:"showGridHelpers","onUpdate:modelValue":t[11]||(t[11]=o=>e.showGridHelpers=o),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[$,e.showGridHelpers]]),t[30]||(t[30]=r("label",{for:"showGridHelpers",class:"text-sm font-medium text-gray-600"},"نمایش راهنما",-1))])]),r("div",te,[t[35]||(t[35]=r("h3",{class:"font-medium text-gray-700"},"تنظیمات رنگ",-1)),r("div",null,[t[32]||(t[32]=r("label",{class:"block text-sm font-medium text-gray-600 mb-1"},"رنگ مهره‌ها",-1)),r("div",re,[u(r("input",{"onUpdate:modelValue":t[12]||(t[12]=o=>e.beadFillColor=o),type:"color",class:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"},null,512),[[f,e.beadFillColor]]),u(r("input",{"onUpdate:modelValue":t[13]||(t[13]=o=>e.beadFillColor=o),type:"text",placeholder:"#ffffff",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,e.beadFillColor]])]),t[33]||(t[33]=r("p",{class:"text-xs text-gray-500 mt-1"},"بوردر به طور خودکار تنظیم می‌شود",-1))]),r("div",null,[t[34]||(t[34]=r("label",{class:"block text-sm font-medium text-gray-600 mb-1"},"رنگ پس‌زمینه SVG",-1)),r("div",oe,[u(r("input",{"onUpdate:modelValue":t[14]||(t[14]=o=>e.svgBackgroundColor=o),type:"color",class:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"},null,512),[[f,e.svgBackgroundColor]]),u(r("input",{"onUpdate:modelValue":t[15]||(t[15]=o=>e.svgBackgroundColor=o),type:"text",placeholder:"#ffffff",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,e.svgBackgroundColor]])])])])]),r("div",{class:"mt-4 pt-4 border-t border-gray-200 flex space-x-3"},[r("button",{class:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500",onClick:k}," بازنشانی تنظیمات "),r("button",{class:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500",onClick:B}," پاک کردن همه رنگ‌ها ")])]),H(T,{rows:e.rows,cols:e.cols,"bead-r":e.beadR,"gap-x":e.gapX,"gap-y":e.gapY,stagger:e.stagger,"show-fringe":e.showFringe,"fringe-base":e.fringeBase,"fringe-amp":e.fringeAmp,"fringe-period":e.fringePeriod,"fringe-map":le,padding:e.padding,"show-grid-helpers":e.showGridHelpers,"bead-fill-color":e.beadFillColor,"svg-background-color":e.svgBackgroundColor,"colored-beads":b,onBeadClick:w},null,8,["rows","cols","bead-r","gap-x","gap-y","stagger","show-fringe","fringe-base","fringe-amp","fringe-period","padding","show-grid-helpers","bead-fill-color","svg-background-color","colored-beads"]),t[38]||(t[38]=r("div",{class:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200"},[r("h3",{class:"text-sm font-medium text-blue-800 mb-2"},"راهنمای رنگ‌آمیزی:"),r("ul",{class:"text-sm text-blue-700 space-y-1"},[r("li",null,"• رنگ مهره‌ها را در بالا انتخاب کنید"),r("li",null,"• روی هر مهره کلیک کنید تا آن را رنگ کنید"),r("li",null,"• برای حذف رنگ، دوباره روی مهره کلیک کنید"),r("li",null,"• بوردر به طور خودکار تنظیم می‌شود (مشکی برای رنگ‌های روشن)"),r("li",null,'• از دکمه "پاک کردن همه رنگ‌ها" برای شروع مجدد استفاده کنید')])],-1)),t[39]||(t[39]=r("p",{class:"text-sm text-neutral-600 mt-3"},[M(" نکته: برای «دقیقاً» مطابق تصویر، می‌تونی "),r("code",null,"fringeMap"),M(" رو دستی بر اساس هر ستون ست کنی تا تعداد مهره‌های آویزِ هر ستون دقیقاً یکی باشه. ")],-1))])]))}};export{ne as default};

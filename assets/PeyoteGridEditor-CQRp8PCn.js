import{_ as ot,r as m,G as Y,m as nt,w as be,n as st,J as at,c as b,a as o,b as j,z as X,F as ee,u as te,q as T,t as z,v as D,x as W,o as x,A as xe}from"./index-CMNLpwHO.js";const it={class:"peyote-editor-container"},ct={class:"grid-container"},ut={class:"image-section"},rt={class:"upload-section grid grid-cols-2 gap-2"},dt={class:"upload-label"},vt={class:"upload-label"},ft={key:0,class:"image-preview"},mt=["src"],gt={class:"main-content"},pt={class:"p-4"},ht={key:0,class:"flex items-start",style:{gap:"0px"}},bt=["onMousedown","onMouseenter"],xt={key:1,class:"flex items-center justify-center h-full text-gray-500"},yt={class:"controls-panel"},Ct={class:"controls-content"},kt={class:"dimensions-section"},_t={class:"dimension-inputs"},wt={class:"dimension-label"},$t={class:"dimension-text"},St={class:"dimension-label"},Mt={class:"dimension-text"},It={class:"dimension-label"},Rt={class:"dimension-text"},At={class:"dimension-label"},Ot={class:"dimension-text"},Gt={class:"color-section"},Pt={class:"selection-mode-indicator"},Et={class:"mode-text"},Lt={class:"color-picker-container"},Ut={class:"color-value"},Vt={class:"mode-switch-buttons"},Nt=["disabled"],jt={class:"recent-colors-header mt-3!"},Tt={class:"recent-colors-grid"},zt=["title","onClick"],Dt=["onClick"],Wt={class:"image-section"},Bt={class:"image-upload-container"},Ht={class:"image-upload-label"},Ft={key:0,class:"selected-image-preview"},Jt=["src"],Yt={key:1,class:"recent-images-header mt-3!"},Xt={key:2,class:"recent-images-grid"},qt=["onClick"],Qt=["src"],Kt=["onClick"],Zt={class:"tools-section"},el={class:"tools-grid"},tl=["disabled"],ll=["disabled"],ol=["disabled"],nl={class:"background-color-section !mt-4"},sl={class:"background-color-controls"},al={class:"export-section"},il={class:"grid grid-cols-2 gap-2"},cl={__name:"PeyoteGridEditor",emits:["update-grid"],setup(ul,{emit:ye}){const Ce=ye,h=m(null),R=m([]),G=m("color"),d=m(12),r=m(50),y=m(15),C=m(17),le=[{key:"DB-1510",hex:"#efe9df"},{key:"DB-1503",hex:"#efbfc7"},{key:"DB-0914",hex:"#d92e5b"},{key:"DB-1832",hex:"#d39c2a"}],_=m(le[2].hex),f=m("#ffffff"),ke=Y(()=>Array.from({length:d.value},(t,e)=>e)),_e=Y(()=>Array.from({length:r.value},(t,e)=>e)),s=nt([]);function we(){const t=Array.from({length:r.value},()=>Array.from({length:d.value},()=>f.value));s.splice(0,s.length,...t),H.value=!0,console.info("Grid initialized:",{rows:r.value,cols:d.value,gridLength:s.length}),S.value=[JSON.parse(JSON.stringify(s))],M.value=0}const $e=Y(()=>r.value*C.value+C.value),Se=Y(()=>d.value*y.value+y.value),Me=Y(()=>{var e,l;const t=H.value&&s.length===r.value&&s.length>0&&((e=s[0])==null?void 0:e.length)===d.value;return console.info("Grid ready check:",{gridInitialized:H.value,gridLength:s.length,rows:r.value,cols:d.value,firstRowLength:(l=s[0])==null?void 0:l.length,ready:t}),t}),V=m("paint"),k=m([]),w=m(null),B=m(!1),O=m([]),oe=m(!1),Ie=m(!1),q=m(null),H=m(!1),S=m([]),M=m(-1),F=m(!1),ne=m(!1);function ce(){if(F.value)return;const t=JSON.parse(JSON.stringify(s));M.value<S.value.length-1&&(S.value=S.value.slice(0,M.value+1)),S.value.push(t),M.value=S.value.length-1,S.value.length>10&&(S.value.shift(),M.value--),console.info("Saved to history:",{historyLength:S.value.length,historyIndex:M.value})}function P(){ne.value=!0}function E(){ne.value&&(ce(),ne.value=!1)}be([r,d],([t,e],[l,n])=>{if(!H.value){console.info("Grid not initialized yet, skipping resize");return}const i=Math.max(1,Math.min(200,t||1)),a=Math.max(1,Math.min(200,e||1));i!==t&&(r.value=i),a!==e&&(d.value=a),(i!==l||a!==n)&&(console.info("Dimensions changed:",{oldRows:l,oldCols:n,newRows:i,newCols:a}),ue(i,a))}),be(_,(t,e)=>{t&&t!==e&&t!==f.value&&Q(t)});function ue(t,e){var a;const l=r.value,n=d.value;console.info("Resizing grid:",{oldRows:l,oldCols:n,newRows:t,newCols:e}),P();const i=Array.from({length:t},()=>Array.from({length:e},()=>f.value));if(s.length>0&&s[0]!==void 0)for(let c=0;c<Math.min(l,t);c++)for(let u=0;u<Math.min(n,e);u++)s[c]&&s[c][u]!==void 0&&(i[c][u]=s[c][u]);s.splice(0,s.length,...i),H.value=!0,console.info("Grid resized successfully. New grid dimensions:",{rows:t,cols:e,actualGridLength:s.length,actualFirstRowLength:(a=s[0])==null?void 0:a.length}),E()}function Q(t){if(t===f.value)return;const e=O.value.indexOf(t);e>-1&&O.value.splice(e,1),O.value.unshift(t),O.value.length>20&&(O.value=O.value.slice(0,20))}function Re(t){const e=O.value.indexOf(t);e>-1&&O.value.splice(e,1)}function Ae(){O.value=[]}function K(t){const e=R.value.indexOf(t);e>-1&&R.value.splice(e,1),R.value.unshift(t),R.value.length>10&&(R.value=R.value.slice(0,10))}function Oe(t){const e=R.value.indexOf(t);e>-1&&R.value.splice(e,1)}function Ge(){R.value=[]}function Pe(){h.value=null,G.value="color"}function re(){G.value="color"}function se(){h.value&&(G.value="image")}function ae(t){V.value=t,N(),fe()}function Ee(t,e){if(B.value){De(t,e);return}switch(oe.value=!0,q.value=`${t},${e}`,V.value){case"paint":P(),Ue(t,e);break;case"fill":P(),Ne(t,e),E();break;case"select":ve(t,e);break}}function Le(t,e){if(!oe.value)return;const l=`${t},${e}`;if(l!==q.value)switch(q.value=l,V.value){case"paint":Ve(t,e);break;case"select":ve(t,e);break}}function de(){E(),oe.value=!1,Ie.value=!1,q.value=null}function Ue(t,e){if(s[t]&&s[t][e]!==void 0){const l=s[t][e],n=G.value==="image"?h.value:_.value;s[t][e]=l===n?f.value:n,s[t][e]===_.value?Q(_.value):s[t][e]===h.value&&K(h.value)}}function Ve(t,e){if(s[t]&&s[t][e]!==void 0){const l=G.value==="image"?h.value:_.value;s[t][e]=l,l===_.value?Q(_.value):l===h.value&&K(h.value)}}function Ne(t,e){if(!s[t]||s[t][e]===void 0)return;const l=s[t][e],n=G.value==="image"?h.value:_.value;if(l===n)return;const i=new Set,a=[[t,e]];for(;a.length>0;){const[c,u]=a.pop(),g=`${c},${u}`;i.has(g)||c<0||c>=r.value||u<0||u>=d.value||!s[c]||s[c][u]!==l||(i.add(g),s[c][u]=n,a.push([c+1,u],[c-1,u],[c,u+1],[c,u-1]))}n===_.value?Q(n):n===h.value&&K(n)}function ve(t,e){const l=`${t},${e}`,n=k.value.indexOf(l);n>-1?k.value.splice(n,1):k.value.push(l)}function N(){k.value=[]}function je(){if(k.value.length===0){console.warn("No cells selected for copying");return}const t=k.value.map(e=>{var i;const[l,n]=e.split(",").map(Number);return{r:l,c:n,color:((i=s[l])==null?void 0:i[n])||f.value}});w.value=t,console.info(`Copied ${t.length} cells to clipboard`),N(),ie()}function Te(){if(k.value.length===0){console.warn("No cells selected for cutting");return}P();const t=k.value.map(e=>{var i;const[l,n]=e.split(",").map(Number);return{r:l,c:n,color:((i=s[l])==null?void 0:i[n])||f.value}});w.value=t,console.info(`Cut ${t.length} cells to clipboard`),k.value.forEach(e=>{const[l,n]=e.split(",").map(Number);s[l]&&s[l][n]!==void 0&&(s[l][n]=f.value)}),N(),ie(),E()}function ze(){if(!w.value){console.warn("No content in clipboard to paste");return}P(),N();const t=Math.min(...w.value.map(v=>v.r)),e=Math.min(...w.value.map(v=>v.c)),l=Math.max(...w.value.map(v=>v.r)),n=Math.max(...w.value.map(v=>v.c)),i=(t+l)/2,a=(e+n)/2,c=Math.floor(r.value/2),u=Math.floor(d.value/2),g=c-i,I=u-a;let p=0;w.value.forEach(({r:v,c:L,color:U})=>{const $=L+I;let A=0;const pe=e%2===1,he=$%2===1;pe&&!he?(A=-1,console.info(`Odd→Even: sourceCol=${e}, targetCol=${$}, cellAdjustment=${A}`)):!pe&&he?(A=-1,console.info(`Even→Odd: sourceCol=${e}, targetCol=${$}, cellAdjustment=${A}`)):console.info(`Same type: sourceCol=${e}, targetCol=${$}, cellAdjustment=${A}`);const J=v+g+A,Z=$;J>=0&&J<r.value&&Z>=0&&Z<d.value&&s[J]&&s[J][Z]!==void 0&&(s[J][Z]=U,p++)}),console.info(`Pasted ${p} cells at center with peyote adjustment`),E()}function De(t,e){if(!w.value)return;P(),N();const l=Math.min(...w.value.map(a=>a.r)),n=Math.min(...w.value.map(a=>a.c));console.info("minC",n,"c",e);let i=0;w.value.forEach(({r:a,c,color:u})=>{const g=a-l,I=c-n,p=e+I;let v=0;const L=n%2===1,U=p%2===1;console.info("sourceIsOdd",L,"targetIsOdd",U),L&&!U?(c%2===1?v=0:v=-1,console.info(`Odd→Even: sourceCol=${n}, targetCol=${p}, cellAdjustment=${v}`)):!L&&U?(console.info(`Even→Odd: sourceCol=${n}, targetCol=${p}, cellAdjustment=${v}`),c%2===1?v=-1:v=-2):(console.info(`Same type: sourceCol=${n}, targetCol=${p}, cellAdjustment=${v}`),v=-1),console.info("cellAdjustment",v);const $=t+g+v,A=p;console.info(`Pasting cell: orig(${a},${c}) -> new(${$},${A}) offset(${g},${I}) cellAdjustment=${v}`),$>=0&&$<r.value&&A>=0&&A<d.value&&s[$]&&s[$][A]!==void 0&&(s[$][A]=u,i++)}),console.info(`Pasted ${i} cells at position (${t}, ${e}) with per-cell peyote adjustment`),E()}function ie(){w.value&&(B.value=!0)}function fe(){B.value=!1}function We(){return w.value&&w.value.length>0}function Be(){if(k.value.length===0)return;P();const t=k.value.map(l=>{var a;const[n,i]=l.split(",").map(Number);return{r:n,c:i,color:((a=s[n])==null?void 0:a[i])||f.value}}),e=Math.max(...t.map(l=>l.c));t.forEach(({r:l,c:n,color:i})=>{const a=e-n;a>=0&&a<d.value&&s[l]&&s[l][a]!==void 0&&(s[l][a]=i)}),E()}function He(){if(k.value.length===0)return;P();const t=k.value.map(l=>{var a;const[n,i]=l.split(",").map(Number);return{r:n,c:i,color:((a=s[n])==null?void 0:a[i])||f.value}}),e=Math.max(...t.map(l=>l.r));t.forEach(({r:l,c:n,color:i})=>{const a=e-l;a>=0&&a<r.value&&s[a]&&s[a][n]!==void 0&&(s[a][n]=i)}),E()}function Fe(){if(M.value>0){F.value=!0,M.value--;const t=S.value[M.value];s.splice(0,s.length,...t),F.value=!1,console.info("Undo performed:",{historyIndex:M.value,historyLength:S.value.length})}else console.warn("No more undo history available")}function Je(){if(M.value<S.value.length-1){F.value=!0,M.value++;const t=S.value[M.value];s.splice(0,s.length,...t),F.value=!1,console.info("Redo performed:",{historyIndex:M.value,historyLength:S.value.length})}else console.warn("No more redo history available")}function Ye(){P();for(let t=0;t<r.value;t++)for(let e=0;e<d.value;e++)s[t]&&s[t][e]!==void 0&&(s[t][e]=f.value);E()}function me(){return s.map(t=>[...t])}function Xe(){const t={grid:me(),cols:d.value,rows:r.value,cellWidth:y.value,cellHeight:C.value,selectedColor:_.value,backgroundColor:f.value};localStorage.setItem("peyoteGrid",JSON.stringify(t))}function qe(){const t=localStorage.getItem("peyoteGrid");if(t){const e=JSON.parse(t);if(d.value=e.cols||12,r.value=e.rows||36,y.value=e.cellWidth||15,C.value=e.cellHeight||15,_.value=e.selectedColor||le[2].hex,f.value=e.backgroundColor||"#ffffff",e.grid){ue(r.value,d.value);for(let l=0;l<r.value;l++)for(let n=0;n<d.value;n++)s[l][n]=e.grid[l]&&e.grid[l][n]?e.grid[l][n]:null}}}async function Qe(){const t=document.createElement("canvas"),e=t.getContext("2d");t.width=d.value*y.value,t.height=r.value*C.value,e.fillStyle=f.value,e.fillRect(0,0,t.width,t.height);const l=[];for(let a=0;a<r.value;a++)for(let c=0;c<d.value;c++){const u=s[a][c]||f.value;if(u&&u.startsWith("data:image/")){const g=new Promise(I=>{const p=new Image;p.onload=()=>I({img:p,r:a,c}),p.src=u});l.push(g)}}const n=await Promise.all(l);for(let a=0;a<r.value;a++)for(let c=0;c<d.value;c++){const u=s[a][c]||f.value,g=c*y.value,I=a*C.value;if(u&&u.startsWith("data:image/")){const p=n.find(v=>v.r===a&&v.c===c);p&&e.drawImage(p.img,g,I,y.value,C.value)}else e.fillStyle=u,e.fillRect(g,I,y.value,C.value)}const i=document.createElement("a");i.download="peyote-grid.png",i.href=t.toDataURL(),i.click()}async function Ke(){const e=document.createElement("canvas"),l=e.getContext("2d");e.width=d.value*y.value*4,e.height=r.value*C.value*4,l.fillStyle=f.value,l.fillRect(0,0,e.width,e.height);const n=[];for(let c=0;c<r.value;c++)for(let u=0;u<d.value;u++){const g=s[c][u]||f.value;if(g&&g.startsWith("data:image/")){const I=new Promise(p=>{const v=new Image;v.onload=()=>p({img:v,r:c,c:u}),v.src=g});n.push(I)}}const i=await Promise.all(n);for(let c=0;c<r.value;c++)for(let u=0;u<d.value;u++){const g=s[c][u]||f.value,I=u*y.value*4,p=c*C.value*4,v=y.value*4,L=C.value*4;if(g&&g.startsWith("data:image/")){const U=i.find($=>$.r===c&&$.c===u);U&&l.drawImage(U.img,I,p,v,L)}else l.fillStyle=g,l.fillRect(I,p,v,L)}const a=document.createElement("a");a.download="peyote-grid-hd.png",a.href=e.toDataURL(),a.click()}function Ze(){let t=`Peyote Grid - ${d.value}x${r.value}
`;t+="=".repeat(d.value*2)+`
`;for(let i=0;i<r.value;i++){let a="";for(let c=0;c<d.value;c++){const u=s[i][c]||f.value;a+=u===f.value?"  ":"██"}t+=a+`
`}const e=new Blob([t],{type:"text/plain"}),l=URL.createObjectURL(e),n=document.createElement("a");n.href=l,n.download="peyote-grid.txt",n.click(),URL.revokeObjectURL(l)}function et(t){const e=t.target.files[0];if(!e)return;const l=new FileReader;l.onload=n=>{const i=n.target.result;console.info("TXT file content:",i)},l.readAsText(e)}function ge(t){const e=t.target.files[0];if(!e)return;const l=new FileReader;l.onload=n=>{const i=n.target.result;h.value=i,K(i),se()},l.readAsDataURL(e)}function tt(t){return{transform:`translateY(${t%2===1?C.value/2:0}px)`,gap:"0px"}}function lt(t,e){var u;const l=((u=s[t])==null?void 0:u[e])||f.value,n=k.value.includes(`${t},${e}`),i=B.value,a=l&&l.startsWith("data:image/"),c={width:`${y.value}px`,height:`${C.value}px`,boxSizing:"border-box",border:n?"2px solid #3b82f6":i?"1px solid #f59e0b":"1px solid #e5e7eb",cursor:i?"crosshair":"pointer",opacity:i?.9:1};return a?{...c,backgroundImage:`url(${l})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{...c,background:l}}return st(()=>{console.info("Component mounted. Initial dimensions:",{rows:r.value,cols:d.value}),we();for(let t=0;t<d.value;t++){const e=Math.floor(r.value/2+Math.sin(t/1.5)*(r.value/6));e>=0&&e<r.value&&(s[e][t]=le[2].hex)}ce(),document.addEventListener("mouseup",de)}),at(()=>{document.removeEventListener("mouseup",de)}),(t,e)=>(x(),b("div",it,[o("div",ct,[o("div",ut,[o("div",rt,[o("label",dt,[e[10]||(e[10]=o("span",{class:"upload-text"},"📁 آپلود فایل txt grid",-1)),o("input",{type:"file",accept:".txt",class:"upload-input",onChange:et},null,32)]),o("label",vt,[e[11]||(e[11]=o("span",{class:"upload-text"},"📁 آپلود تصویر",-1)),o("input",{type:"file",accept:"image/*",class:"upload-input",onChange:ge},null,32)])]),h.value?(x(),b("div",ft,[o("img",{src:h.value,alt:"تصویر انتخاب شده",class:"preview-image"},null,8,mt)])):j("",!0)]),o("div",gt,[o("div",pt,[e[12]||(e[12]=o("h2",{class:"text-lg font-semibold mb-3"},"Peyote عمودی — ویرایشگر طرح",-1)),o("div",{ref:"gridWrapper",class:"overflow-auto border rounded p-2 bg-white",style:X({height:$e.value+"px",minWidth:Se.value+"px"})},[Me.value?(x(),b("div",ht,[(x(!0),b(ee,null,te(ke.value,l=>(x(),b("div",{key:l,class:"flex-shrink-0",style:X({width:y.value+"px"})},[o("div",{class:"flex flex-col",style:X(tt(l))},[(x(!0),b(ee,null,te(_e.value,n=>(x(),b("div",{key:`${n}-${l}`,class:"cell cursor-pointer border-[1px] border-gray-200",style:X(lt(n,l)),onMousedown:i=>Ee(n,l),onMouseenter:i=>Le(n,l)},null,44,bt))),128))],4)],4))),128))])):(x(),b("div",xt," Loading grid... "))],4),e[13]||(e[13]=o("p",{class:"mt-2 text-xs text-gray-500"},"راست‌کلیک = پاک کردن. می‌توانی تعداد ردیف/ستون را در متغیرها تغییر بدهی.",-1))])])]),o("div",yt,[e[23]||(e[23]=o("div",{class:"controls-header"},[o("h3",{class:"mb-4 text-lg font-bold text-gray-800"},"🎨 ابزارهای طراحی")],-1)),o("div",Ct,[o("div",kt,[e[14]||(e[14]=o("h4",{class:"mb-2 text-sm font-semibold text-gray-700"}," 📐 ابعاد شبکه ",-1)),o("div",_t,[o("label",wt,[o("span",$t,"ردیف‌ها: "+z(r.value),1),T(o("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>r.value=l),type:"number",min:"1",max:"200",class:"dimension-input"},null,512),[[D,r.value,void 0,{number:!0}]])]),o("label",St,[o("span",Mt,"ستون‌ها: "+z(d.value),1),T(o("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>d.value=l),type:"number",min:"1",max:"200",class:"dimension-input"},null,512),[[D,d.value,void 0,{number:!0}]])]),o("label",It,[o("span",Rt,"عرض سل: "+z(y.value)+"px",1),T(o("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>y.value=l),type:"number",min:"5",max:"50",class:"dimension-input"},null,512),[[D,y.value,void 0,{number:!0}]])]),o("label",At,[o("span",Ot,"ارتفاع سل: "+z(C.value)+"px",1),T(o("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>C.value=l),type:"number",min:"5",max:"50",class:"dimension-input"},null,512),[[D,C.value,void 0,{number:!0}]])])])]),o("div",Gt,[e[16]||(e[16]=o("h4",{class:"mb-2 text-sm font-semibold text-gray-700"}," 🎨 انتخاب رنگ ",-1)),o("div",Pt,[o("span",Et,"حالت فعلی: "+z(G.value==="color"?"رنگ":"تصویر"),1)]),o("div",Lt,[T(o("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>_.value=l),type:"color",class:"color-picker",onChange:re},null,544),[[D,_.value]]),o("span",Ut,z(_.value),1)]),o("div",Vt,[o("button",{class:W(["mode-btn",{active:G.value==="color"}]),onClick:re}," 🎨 رنگ ",2),o("button",{class:W(["mode-btn",{active:G.value==="image"}]),disabled:!h.value,onClick:se}," 🖼️ تصویر ",10,Nt)]),o("div",jt,[e[15]||(e[15]=o("h4",{class:"text-sm font-semibold text-gray-700"},"🔄 رنگ‌های اخیر",-1)),O.value.length>0?(x(),b("button",{key:0,class:"clear-colors-btn",title:"پاک کردن تمام رنگ‌ها",onClick:Ae}," 🗑️ پاک کردن ")):j("",!0)]),o("div",Tt,[(x(!0),b(ee,null,te(O.value,l=>(x(),b("div",{key:l,class:"color-swatch",style:X({backgroundColor:l}),title:l,onClick:n=>_.value=l},[o("button",{class:"remove-color-btn",onClick:xe(n=>Re(l),["stop"])}," × ",8,Dt)],12,zt))),128))])]),o("div",Wt,[e[19]||(e[19]=o("h4",{class:"mb-2 text-sm font-semibold text-gray-700"}," 🖼️ انتخاب تصویر ",-1)),o("div",Bt,[o("label",Ht,[e[17]||(e[17]=o("span",{class:"image-upload-text"},"📁 آپلود تصویر",-1)),o("input",{type:"file",accept:"image/*",class:"image-upload-input",onChange:ge},null,32)])]),h.value?(x(),b("div",Ft,[o("img",{src:h.value,alt:"تصویر انتخاب شده",class:"preview-image-small"},null,8,Jt),o("button",{title:"حذف تصویر",class:"remove-image-btn",onClick:Pe}," × ")])):j("",!0),R.value.length>0?(x(),b("div",Yt,[e[18]||(e[18]=o("h4",{class:"text-sm font-semibold text-gray-700"},"🔄 تصاویر اخیر",-1)),o("button",{class:"clear-images-btn",title:"پاک کردن تمام تصاویر",onClick:Ge}," 🗑️ پاک کردن ")])):j("",!0),R.value.length>0?(x(),b("div",Xt,[(x(!0),b(ee,null,te(R.value,l=>(x(),b("div",{key:l,class:W(["image-swatch",{active:h.value===l}]),onClick:n=>{h.value=l,se()}},[o("img",{src:l,alt:"تصویر اخیر",class:"image-swatch-img"},null,8,Qt),o("button",{class:"remove-image-btn-small",onClick:xe(n=>Oe(l),["stop"])}," × ",8,Kt)],10,qt))),128))])):j("",!0)]),o("div",Zt,[e[21]||(e[21]=o("h4",{class:"mb-2 text-sm font-semibold text-gray-700"},"🛠️ ابزارها",-1)),o("div",el,[o("button",{class:W(["tool-btn primary",{active:V.value==="paint"}]),onClick:e[5]||(e[5]=l=>ae("paint"))}," 🖌️ Paint ",2),o("button",{class:W(["tool-btn primary",{active:V.value==="fill"}]),onClick:e[6]||(e[6]=l=>ae("fill"))}," 🪣 Fill ",2),o("button",{class:W(["tool-btn secondary",{active:V.value==="select"}]),onClick:e[7]||(e[7]=l=>ae("select"))}," 📐 Select ",2),o("button",{class:"tool-btn secondary",onClick:je}," 📋 Copy "),o("button",{class:"tool-btn secondary",onClick:Te}," ✂️ Cut "),o("button",{class:"tool-btn secondary",onClick:ze}," 📍 Paste at Center "),o("button",{class:"tool-btn secondary",disabled:!We(),onClick:ie}," 🎯 Enable Click-to-Paste ",8,tl),B.value?(x(),b("button",{key:0,class:"tool-btn danger",onClick:fe}," ❌ Cancel Click-to-Paste ")):j("",!0),o("button",{class:"tool-btn secondary",onClick:N}," 🗑️ Clear Selection "),o("button",{class:"tool-btn secondary",disabled:k.value.length===0,onClick:Be}," 🔄 Mirror Selection ",8,ll),o("button",{class:"tool-btn secondary",disabled:k.value.length===0,onClick:He}," ↕️ Mirror Selection Vertical ",8,ol),o("button",{class:"tool-btn secondary",onClick:Fe}," ↩️ Undo "),o("button",{class:"tool-btn secondary",onClick:Je}," ↪️ Redo ")]),o("div",nl,[e[20]||(e[20]=o("h4",{class:"mb-2 text-sm font-semibold text-gray-700"},"🎨 رنگ پس‌زمینه",-1)),o("div",sl,[T(o("input",{"onUpdate:modelValue":e[8]||(e[8]=l=>f.value=l),type:"color",class:"color-picker",title:"انتخاب رنگ پس‌زمینه"},null,512),[[D,f.value]]),o("button",{class:"tool-btn success",onClick:Ye}," 🎨 تغییر تمام مهره‌ها ")])])]),o("div",al,[e[22]||(e[22]=o("h4",{class:"mb-2 text-sm font-semibold text-gray-700"},"📤 خروجی",-1)),o("div",{class:"save-load-buttons mb-3"},[o("button",{class:"export-btn success",onClick:Xe}," 💾 ذخیره گرید "),o("button",{class:"export-btn info",onClick:qe}," 📂 بارگذاری اخرین ذخیره ")]),o("div",il,[o("button",{class:"export-btn primary",onClick:e[9]||(e[9]=l=>Ce("update-grid",me()))}," 🚀 ارسال به 3D "),o("button",{class:"export-btn success",onClick:Qe}," 📷 خروجی عکس "),o("button",{class:"export-btn info",onClick:Ke}," 🖼️ خروجی HD "),o("button",{class:"export-btn warning",onClick:Ze}," 📄 خروجی TXT ")])])])])]))}},dl=ot(cl,[["__scopeId","data-v-d12f3efd"]]);export{dl as G};
